---

# Tempest integration is experimental and is gated by a feature flag
config_as_code_feature_tempest_enabled: true

# host to password file mapping definining the credentials for HTTP basic auth
nginx_proxy_htpasswd_files:
  10.41.253.100: encrypted/htpasswd

# SSH key used by jenkins to log into overcloud/undercloud hosts
config_as_code_admin_ssh_key: "{{lookup('file', 'encrypted/id_rsa_jenkins')}}"
config_as_code_tempest_ssh_key: "{{ config_as_code_admin_ssh_key }}"

# SSH key used by tempest to log into overcloud/undercloud hosts
#config_as_code_tempest_ssh_key: "{{lookup('file', 'encrypted/id_rsa_tempest')}}"

# IP or host where jenkins will listen
config_as_code_url: "{{ jenkins_virtual_host }}"
# Password for the jenkins admin user
config_as_code_admin_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64383333623665613334303164313566303331663665363338366564363737646139366362613535
          6132376163633634663236303966306261313561386631660a393130336663373332623730663831
          37356231346334393039643666383132363364373232346562613638306137343338323463313364
          3338633565643030350a313162393562343765383061396433383634363065633735626162356561
          38303532386639656463373937313535323766366230333038653163373763393137656434346432
          3634313032666663346566356664316538613936333031343966
# ansible vault password used for kayobe-config
config_as_code_vault_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33316535383034633832666264323432326635613739643362306439343166653764663263653335
          3239623930643634333437653030366333613834623835370a386664633932383464373962343866
          66646664666139396432373036613134396634363165366333363032383934393366306433383061
          3132323862363933380a663566313965373730393466373462316566383436303430636330663430
          61643731346338303634613433313863656438636131353862613364373637653566366233333133
          6637643566643934316562633432363861636630373937393735
#ansible vault password used for the jenkins-pipelines repository
config_as_code_tempest_vault_password: "{{ config_as_code_vault_password }}"
# Token for Slack integration
config_as_code_secret_slack: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61366435303239383933353764373733366336356466623061333765383831326135306233613237
          6438613563356566396262653138353263386465363332300a386130643338326231373265373437
          66623161323136366532356134303736613337616232626534303666366133626439663266376363
          3737386635613937610a366566633461346165383434316262333734356339663634363965633833
          35353434326339623564306532343134646139333462306531303434643864393564

# Configuration of kayobe-config repo
config_as_code_kayobe_config_repo: "https://github.com/jovial/alaska-kayobe-config"
config_as_code_kayobe_config_branches: 
  - alt1/train

# Configuration of tempest (enabled with `config_as_code_feature_tempest_enabled`)
config_as_code_tempest_repo: "https://github.com/jovial/jenkins-pipelines"
config_as_code_tempest_branch: alaska
config_as_code_tempest_jenkinsfile: tempest.jenkinsfile

# These must match the hashes of your pipelines. You can manually approve a hash by visiting
# <jenkins_url>/scriptApproval/. The hashes can then be found in 
# /var/jenkins_home/scriptApproval.xml
config_as_code_allowed_script_hashes:
  - 326eff2fbd632fac5ba44cafca6a4971403120a5
  - cc7d7801febb0e16f2a2023f164b0d1d14ad33de

config_as_code_extras:
  credentials:
    system:
      domainCredentials:
        - credentials:
          - string:
              description: "For slack integration"
              id: "slack_secret"
              scope: GLOBAL
              secret: "{{ config_as_code_secret_slack }}"
  unclassified:
    globalSlackNotifier:
        failureMessage: "Your build failed."
        failureRoom: "alaska-jenkins"
        notBuiltMessage: "There is trouble in the cloud."
        notBuiltRoom: "alaska-jenkins"
        notifyOnAborted: false
        notifyOnFail: true
        notifyOnNotBuilt: false
        notifyOnSuccess: true
        notifyOnUnstable: true
        successMessage: "Your build passed."
        successRoom: "alaska-jenkins"
    slackNotifier:
      botUser: false
      room: "alaska-jenkins"
      sendAsText: false
      teamDomain: "alaska-deploy"
      tokenCredentialId: "slack_secret"

# A ip or host where jenkins will listen
jenkins_virtual_host: 10.41.253.100
# Name of the jenkins docker image
jenkins_image: "{{ docker_registry }}/jenkins-docker"
# Tag of the jenkins docker image
jenkins_image_tag: latest
# Local docker registry to push the image to
docker_registry: "10.41.253.100:5000"
docker_proto: http
